name: Push messages
on: [pull_request]
jobs:
  get_branch_tests:
    runs-on: [ubuntu-latest]
    steps:
      - uses: actions/checkout@v2
        with:
          ref: ${{ github.event.pull_request.head.sha }}
          fetch-depth: 0
      - uses: jwalton/gh-find-current-pr@v1
        id: findPr
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
      - run: echo "Your PR is ${PR}"
        if: success() && steps.findPr.outputs.number
        env:
          PR: ${{ steps.findPr.outputs.pr }}
      - uses: mshick/add-pr-comment@v1
        with:
          message: |
            **Hello**
            üåè
            !
          repo-token: ${{ secrets.GITHUB_TOKEN }}
      - run: echo "Your PR is ${PR}"
        if: success() && steps.findPr.outputs.number
        env:
          PR: ${{ steps.findPr.outputs.pr }}
      - uses: jungwinter/split@v1
        id: split
        with:
          msg: ${{ steps.findPr.outputs.body }}
      - uses: mshick/add-pr-comment@v1
        with:
          message: |
            **Hello**
            Release ${{ steps.split.outputs._0 }}
            !
          repo-token: ${{ secrets.GITHUB_TOKEN }}
